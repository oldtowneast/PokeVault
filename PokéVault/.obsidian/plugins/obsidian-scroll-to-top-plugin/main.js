/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// src/setting.ts
var scrollToTopSetting = {
  enabledScrollToTop: true,
  enabledScrollToBottom: true,
  iconScrollToTop: "arrow-up",
  iconScrollToBottom: "arrow-down"
};

// main.ts
var ROOT_WORKSPACE_CLASS = ".mod-vertical.mod-root";
var MyPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.maxValue = 100;
    this.currentValue = 0;
  }
  scrollToTop() {
    const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
    if (markdownView) {
      const editor = markdownView.editor;
      const preview = markdownView.previewMode;
      editor && editor.exec("goStart");
      preview && preview.applyScroll(0);
    }
  }
  scrollToBottom() {
    const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
    if (markdownView) {
      const editor = markdownView.editor;
      const preview = markdownView.previewMode;
      editor && editor.exec("goEnd");
      if (preview) {
        let timer = setInterval(() => {
          const prevScroll = preview.getScroll();
          preview.applyScroll(preview.getScroll() + 5);
          if (prevScroll === preview.getScroll()) {
            clearInterval(timer);
          }
        });
      }
    }
  }
  crateScrollElement(config, fn) {
    var _a;
    let topWidget = createEl("div");
    if (topWidget) {
      topWidget.setAttribute("class", `div-${config.id}`);
    }
    topWidget.setAttribute("id", config.id);
    let button = new import_obsidian.ButtonComponent(topWidget);
    button.setIcon(config.icon).setClass("buttonItem").onClick(() => {
      fn();
    });
    (_a = document.body.querySelector(ROOT_WORKSPACE_CLASS)) == null ? void 0 : _a.insertAdjacentElement("afterbegin", topWidget);
    document.addEventListener("click", function(event) {
      const activeLeaf = app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
      if (activeLeaf) {
        topWidget.style.visibility = "visible";
      } else {
        topWidget.style.visibility = "hidden";
      }
    });
  }
  removeButton(id) {
    const element = document.getElementById(id);
    if (element) {
      element.remove();
    }
  }
  createButton() {
    this.currentValue++;
    const { enabledScrollToTop, enabledScrollToBottom, iconScrollToTop, iconScrollToBottom } = this.settings;
    if (!document.body.querySelector(ROOT_WORKSPACE_CLASS)) {
      if (this.maxValue < this.currentValue)
        return;
      setTimeout(() => {
        this.createButton();
      }, 100);
      return;
    }
    if (enabledScrollToTop) {
      this.crateScrollElement({
        id: "scrollToTop",
        icon: iconScrollToTop
      }, this.scrollToTop.bind(this));
    }
    if (enabledScrollToBottom) {
      this.crateScrollElement({
        id: "scrollToBottom",
        icon: iconScrollToBottom
      }, this.scrollToBottom.bind(this));
    }
  }
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new ScrollToTopSettingTab(this.app, this));
    this.currentValue = 0;
    this.createButton();
    setTimeout(() => {
      this.app.workspace.trigger("css-change");
    }, 300);
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async loadSettings() {
    this.settings = Object.assign({}, scrollToTopSetting, await this.loadData());
  }
  onunload() {
    this.removeButton("scrollToTop");
    this.removeButton("scrollToBottom");
  }
};
var ScrollToTopSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  createSpanWithLinks(text, href, linkText) {
    const span = document.createElement("span");
    span.innerText = text;
    const link = document.createElement("a");
    link.href = href;
    link.innerText = linkText;
    span.appendChild(link);
    return span;
  }
  rebuildButton() {
    this.plugin.removeButton("scrollToTop");
    this.plugin.removeButton("scrollToBottom");
    this.plugin.createButton();
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Scroll To Top Settings" });
    new import_obsidian.Setting(containerEl).setName("Show scroll to top button").setDesc("Show scroll to top button in the right bottom corner.").addToggle((value) => {
      value.setValue(this.plugin.settings.enabledScrollToTop).onChange(async (value2) => {
        this.plugin.settings.enabledScrollToTop = value2;
        await this.plugin.saveSettings();
        this.rebuildButton();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Show scroll to bottom button").setDesc("Show scroll to bottom button in the right bottom corner.").addToggle((value) => {
      value.setValue(this.plugin.settings.enabledScrollToBottom).onChange(async (value2) => {
        this.plugin.settings.enabledScrollToBottom = value2;
        await this.plugin.saveSettings();
        this.rebuildButton();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Change icon of scroll to top button").setDesc(this.createSpanWithLinks("Change icon of scroll to top button. You can visit aviable icons here: ", "https://github.com/mgmeyers/obsidian-icon-swapper", "obsidian-icon-swapper")).addText((value) => {
      value.setValue(this.plugin.settings.iconScrollToTop).onChange(async (value2) => {
        this.plugin.settings.iconScrollToTop = value2;
        await this.plugin.saveSettings();
        this.rebuildButton();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Change icon of scroll to bottom button").setDesc(this.createSpanWithLinks("Change icon of scroll to bottom button. You can visit aviable icons here: ", "https://github.com/mgmeyers/obsidian-icon-swapper", "obsidian-icon-swapper")).addText((value) => {
      value.setValue(this.plugin.settings.iconScrollToBottom).onChange(async (value2) => {
        this.plugin.settings.iconScrollToBottom = value2;
        await this.plugin.saveSettings();
        this.rebuildButton();
      });
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvc2V0dGluZy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgTWFya2Rvd25WaWV3LCBQbHVnaW4sIEJ1dHRvbkNvbXBvbmVudCwgUGx1Z2luU2V0dGluZ1RhYiwgQXBwLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgU2Nyb2xsVG9Ub3BTZXR0aW5nVHlwZSwgc2Nyb2xsVG9Ub3BTZXR0aW5nIH0gZnJvbSAnLi9zcmMvc2V0dGluZyc7XG5cbmNvbnN0IFJPT1RfV09SS1NQQUNFX0NMQVNTID0gJy5tb2QtdmVydGljYWwubW9kLXJvb3QnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE15UGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0Ly8gbWF4IHRyeSB0aW1lc1xuXHRtYXhWYWx1ZTogbnVtYmVyID0gMTAwO1xuXHQvLyBjdXJyZW50IHRyeSB0aW1lc1xuXHRjdXJyZW50VmFsdWU6IG51bWJlciA9IDA7XG5cdC8vIHNjcm9sbCB0byB0b3Agc2V0dGluZ3Ncblx0c2V0dGluZ3M6IFNjcm9sbFRvVG9wU2V0dGluZ1R5cGU7XG5cblx0cHJpdmF0ZSBzY3JvbGxUb1RvcCgpIHtcblx0XHRjb25zdCBtYXJrZG93blZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuXHRcdGlmIChtYXJrZG93blZpZXcpIHtcblx0XHRcdGNvbnN0IGVkaXRvciA9IG1hcmtkb3duVmlldy5lZGl0b3I7XG5cdFx0XHRjb25zdCBwcmV2aWV3ID0gbWFya2Rvd25WaWV3LnByZXZpZXdNb2RlO1xuXG5cdFx0XHRlZGl0b3IgJiYgZWRpdG9yLmV4ZWMoJ2dvU3RhcnQnKTtcblx0XHRcdHByZXZpZXcgJiYgcHJldmlldy5hcHBseVNjcm9sbCgwKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHNjcm9sbFRvQm90dG9tKCkge1xuXHRcdGNvbnN0IG1hcmtkb3duVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG5cdFx0aWYgKG1hcmtkb3duVmlldykge1xuXHRcdFx0Y29uc3QgZWRpdG9yID0gbWFya2Rvd25WaWV3LmVkaXRvcjtcblx0XHRcdGNvbnN0IHByZXZpZXcgPSBtYXJrZG93blZpZXcucHJldmlld01vZGU7XG5cblx0XHRcdGVkaXRvciAmJiBlZGl0b3IuZXhlYygnZ29FbmQnKTtcblx0XHRcdC8vIHRoZSB3YXkgdG8gc29sdmUgcHJldmlldyBzY3JvbGwgdG8gYm90dG9tXG5cdFx0XHRpZiAocHJldmlldykge1xuXHRcdFx0XHRsZXQgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgcHJldlNjcm9sbCA9IHByZXZpZXcuZ2V0U2Nyb2xsKCk7XG5cdFx0XHRcdFx0cHJldmlldy5hcHBseVNjcm9sbChwcmV2aWV3LmdldFNjcm9sbCgpICsgNSk7XG5cdFx0XHRcdFx0aWYgKHByZXZTY3JvbGwgPT09IHByZXZpZXcuZ2V0U2Nyb2xsKCkpIHtcblx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwodGltZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGNyYXRlU2Nyb2xsRWxlbWVudChjb25maWc6IHtcblx0XHRpZDogc3RyaW5nLFxuXHRcdGljb246IHN0cmluZyxcblx0fSwgZm46ICgpID0+IHZvaWQpIHtcblx0XHRsZXQgdG9wV2lkZ2V0ID0gY3JlYXRlRWwoXCJkaXZcIik7XG5cdFx0XHRpZiAodG9wV2lkZ2V0KSB7XG5cdFx0XHRcdHRvcFdpZGdldC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBgZGl2LSR7Y29uZmlnLmlkfWApO1xuXHRcdFx0fVxuXHRcdFx0dG9wV2lkZ2V0LnNldEF0dHJpYnV0ZShcImlkXCIsIGNvbmZpZy5pZCk7XG5cblx0XHRcdGxldCBidXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KHRvcFdpZGdldCk7XG5cdFx0XHRidXR0b24uc2V0SWNvbihjb25maWcuaWNvbikuc2V0Q2xhc3MoJ2J1dHRvbkl0ZW0nKS5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0Zm4oKVxuXHRcdFx0fSk7XG5cblx0XHRcdGRvY3VtZW50LmJvZHlcblx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3IoUk9PVF9XT1JLU1BBQ0VfQ0xBU1MpXG5cdFx0XHRcdD8uaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJiZWdpblwiLCB0b3BXaWRnZXQpO1xuXG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRcdGNvbnN0IGFjdGl2ZUxlYWYgPSBhcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRcdFx0aWYgKGFjdGl2ZUxlYWYpIHtcblx0XHRcdFx0XHR0b3BXaWRnZXQuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRvcFdpZGdldC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgcmVtb3ZlQnV0dG9uKGlkOiBzdHJpbmcpIHtcblx0XHRjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuXHRcdGlmIChlbGVtZW50KSB7XG5cdFx0XHRlbGVtZW50LnJlbW92ZSgpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBjcmVhdGVCdXR0b24oKSB7XG5cdFx0dGhpcy5jdXJyZW50VmFsdWUrKztcblxuXHRcdGNvbnN0IHsgZW5hYmxlZFNjcm9sbFRvVG9wLCBlbmFibGVkU2Nyb2xsVG9Cb3R0b20sIGljb25TY3JvbGxUb1RvcCwgaWNvblNjcm9sbFRvQm90dG9tIH0gPSB0aGlzLnNldHRpbmdzXG5cblx0XHRpZiAoIWRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihST09UX1dPUktTUEFDRV9DTEFTUykpIHtcblx0XHRcdC8vIHN0b3Agd2hlbiByZWFjaCBtYXggdHJ5IHRpbWVzXG5cdFx0XHRpZiAodGhpcy5tYXhWYWx1ZSA8IHRoaXMuY3VycmVudFZhbHVlKSByZXR1cm5cblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmNyZWF0ZUJ1dHRvbigpO1xuXHRcdFx0fSwgMTAwKVxuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXHRcdGlmIChlbmFibGVkU2Nyb2xsVG9Ub3ApIHtcblx0XHRcdC8vIGNyZWF0ZSBhIGJ1dHRvblxuXHRcdFx0dGhpcy5jcmF0ZVNjcm9sbEVsZW1lbnQoe1xuXHRcdFx0XHRpZDogJ3Njcm9sbFRvVG9wJyxcblx0XHRcdFx0aWNvbjogaWNvblNjcm9sbFRvVG9wLFxuXHRcdFx0fSwgdGhpcy5zY3JvbGxUb1RvcC5iaW5kKHRoaXMpKVxuXHRcdH1cblxuXHRcdGlmIChlbmFibGVkU2Nyb2xsVG9Cb3R0b20pIHtcblx0XHRcdHRoaXMuY3JhdGVTY3JvbGxFbGVtZW50KHtcblx0XHRcdFx0aWQ6ICdzY3JvbGxUb0JvdHRvbScsXG5cdFx0XHRcdGljb246IGljb25TY3JvbGxUb0JvdHRvbSxcblx0XHRcdH0sIHRoaXMuc2Nyb2xsVG9Cb3R0b20uYmluZCh0aGlzKSlcblx0XHR9XG5cblx0fVxuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2Nyb2xsVG9Ub3BTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdFx0dGhpcy5jdXJyZW50VmFsdWUgPSAwO1xuXHRcdHRoaXMuY3JlYXRlQnV0dG9uKCk7XG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UudHJpZ2dlcihcImNzcy1jaGFuZ2VcIik7XG5cdFx0fSwgMzAwKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBzY3JvbGxUb1RvcFNldHRpbmcsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHR0aGlzLnJlbW92ZUJ1dHRvbignc2Nyb2xsVG9Ub3AnKTtcblx0XHR0aGlzLnJlbW92ZUJ1dHRvbignc2Nyb2xsVG9Cb3R0b20nKTtcblx0fVxufVxuXG5jbGFzcyBTY3JvbGxUb1RvcFNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBNeVBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBNeVBsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGNyZWF0ZVNwYW5XaXRoTGlua3ModGV4dDogc3RyaW5nLCBocmVmOiBzdHJpbmcsIGxpbmtUZXh0OiBzdHJpbmcpOiBhbnkge1xuXHRcdGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdFx0c3Bhbi5pbm5lclRleHQgPSB0ZXh0O1xuXHRcdGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdFx0bGluay5ocmVmID0gaHJlZlxuXHRcdGxpbmsuaW5uZXJUZXh0ID0gbGlua1RleHRcblx0XHRzcGFuLmFwcGVuZENoaWxkKGxpbmspO1xuXG5cdFx0cmV0dXJuIHNwYW47XG5cdH1cblxuXHRyZWJ1aWxkQnV0dG9uKCkge1xuXHRcdHRoaXMucGx1Z2luLnJlbW92ZUJ1dHRvbignc2Nyb2xsVG9Ub3AnKTtcblx0XHR0aGlzLnBsdWdpbi5yZW1vdmVCdXR0b24oJ3Njcm9sbFRvQm90dG9tJyk7XG5cdFx0dGhpcy5wbHVnaW4uY3JlYXRlQnV0dG9uKCk7XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnU2Nyb2xsIFRvIFRvcCBTZXR0aW5ncycgfSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdTaG93IHNjcm9sbCB0byB0b3AgYnV0dG9uJylcblx0XHRcdC5zZXREZXNjKCdTaG93IHNjcm9sbCB0byB0b3AgYnV0dG9uIGluIHRoZSByaWdodCBib3R0b20gY29ybmVyLicpXG5cdFx0XHQuYWRkVG9nZ2xlKHZhbHVlID0+IHtcblx0XHRcdFx0dmFsdWUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlZFNjcm9sbFRvVG9wKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZWRTY3JvbGxUb1RvcCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHR0aGlzLnJlYnVpbGRCdXR0b24oKVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSlcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1Nob3cgc2Nyb2xsIHRvIGJvdHRvbSBidXR0b24nKVxuXHRcdFx0LnNldERlc2MoJ1Nob3cgc2Nyb2xsIHRvIGJvdHRvbSBidXR0b24gaW4gdGhlIHJpZ2h0IGJvdHRvbSBjb3JuZXIuJylcblx0XHRcdC5hZGRUb2dnbGUodmFsdWUgPT4ge1xuXHRcdFx0XHR2YWx1ZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVkU2Nyb2xsVG9Cb3R0b20pXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlZFNjcm9sbFRvQm90dG9tID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdHRoaXMucmVidWlsZEJ1dHRvbigpXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KVxuXG5cdFx0XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHQuc2V0TmFtZSgnQ2hhbmdlIGljb24gb2Ygc2Nyb2xsIHRvIHRvcCBidXR0b24nKVxuXHRcdC5zZXREZXNjKHRoaXMuY3JlYXRlU3BhbldpdGhMaW5rcyhcblx0XHRcdCdDaGFuZ2UgaWNvbiBvZiBzY3JvbGwgdG8gdG9wIGJ1dHRvbi4gWW91IGNhbiB2aXNpdCBhdmlhYmxlIGljb25zIGhlcmU6ICcsXG5cdFx0XHQnaHR0cHM6Ly9naXRodWIuY29tL21nbWV5ZXJzL29ic2lkaWFuLWljb24tc3dhcHBlcicsXG5cdFx0XHQnb2JzaWRpYW4taWNvbi1zd2FwcGVyJ1xuXHRcdFx0KSlcblx0XHQuYWRkVGV4dCh2YWx1ZSA9PiB7XG5cdFx0XHR2YWx1ZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uU2Nyb2xsVG9Ub3ApXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uU2Nyb2xsVG9Ub3AgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLnJlYnVpbGRCdXR0b24oKVxuXHRcdFx0XHR9KTtcblx0XHR9KVxuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0LnNldE5hbWUoJ0NoYW5nZSBpY29uIG9mIHNjcm9sbCB0byBib3R0b20gYnV0dG9uJylcblx0XHQuc2V0RGVzYyh0aGlzLmNyZWF0ZVNwYW5XaXRoTGlua3MoXG5cdFx0XHQnQ2hhbmdlIGljb24gb2Ygc2Nyb2xsIHRvIGJvdHRvbSBidXR0b24uIFlvdSBjYW4gdmlzaXQgYXZpYWJsZSBpY29ucyBoZXJlOiAnLFxuXHRcdFx0J2h0dHBzOi8vZ2l0aHViLmNvbS9tZ21leWVycy9vYnNpZGlhbi1pY29uLXN3YXBwZXInLFxuXHRcdFx0J29ic2lkaWFuLWljb24tc3dhcHBlcidcblx0XHRcdCkpXG5cdFx0LmFkZFRleHQodmFsdWUgPT4ge1xuXHRcdFx0dmFsdWUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvblNjcm9sbFRvQm90dG9tKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvblNjcm9sbFRvQm90dG9tID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5yZWJ1aWxkQnV0dG9uKClcblx0XHRcdFx0fSk7XG5cdFx0fSlcblx0fVxufVxuIiwgImV4cG9ydCBpbnRlcmZhY2UgU2Nyb2xsVG9Ub3BTZXR0aW5nVHlwZSB7XG5cdGVuYWJsZWRTY3JvbGxUb1RvcDogYm9vbGVhbjtcblx0ZW5hYmxlZFNjcm9sbFRvQm90dG9tOiBib29sZWFuO1xuXHRpY29uU2Nyb2xsVG9Ub3A6IHN0cmluZztcblx0aWNvblNjcm9sbFRvQm90dG9tOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBzY3JvbGxUb1RvcFNldHRpbmc6IFNjcm9sbFRvVG9wU2V0dGluZ1R5cGUgPSB7XG5cdGVuYWJsZWRTY3JvbGxUb1RvcDogdHJ1ZSxcblx0ZW5hYmxlZFNjcm9sbFRvQm90dG9tOiB0cnVlLFxuXHRpY29uU2Nyb2xsVG9Ub3A6ICdhcnJvdy11cCcsXG5cdGljb25TY3JvbGxUb0JvdHRvbTogJ2Fycm93LWRvd24nLFxufVxuIl0sCiAgIm1hcHBpbmdz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
